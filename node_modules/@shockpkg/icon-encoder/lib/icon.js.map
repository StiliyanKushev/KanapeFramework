{"version":3,"sources":["icon.ts"],"names":["Icon","Object","constructor","_decodePngToRgba","data","image","UPNG","decode","width","height","Uint8Array","toRGBA8","_encodeRgbaToPng","imageData","Buffer","from","encode","buffer"],"mappings":";;;;;;;;;AAAA;;AAIA;AACA;AACA;AACO,MAAeA,IAAf,SAA4BC,MAA5B,CAAmC;AACzCC,EAAAA,WAAW,GAAG;AACb;AACA;AAED;AACD;AACA;AACA;AACA;AACA;;;AACWC,EAAAA,gBAAgB,CAACC,IAAD,EAAyB;AAClD,UAAMC,KAAK,GAAGC,gBAAKC,MAAL,CAAYH,IAAZ,CAAd;;AACA,WAAO;AACNI,MAAAA,KAAK,EAAEH,KAAK,CAACG,KADP;AAENC,MAAAA,MAAM,EAAEJ,KAAK,CAACI,MAFR;AAGNL,MAAAA,IAAI,EAAE,IAAIM,UAAJ,CAAeJ,gBAAKK,OAAL,CAAaN,KAAb,EAAoB,CAApB,CAAf;AAHA,KAAP;AAKA;AAED;AACD;AACA;AACA;AACA;AACA;;;AACWO,EAAAA,gBAAgB,CAACC,SAAD,EAAkC;AAC3D,WAAOC,MAAM,CAACC,IAAP,CAAaT,eAAD,CAAcU,MAAd,CAClB,CAACH,SAAS,CAACT,IAAV,CAAea,MAAhB,CADkB,EAElBJ,SAAS,CAACL,KAFQ,EAGlBK,SAAS,CAACJ,MAHQ,EAIlB,CAJkB,EAKlB,EALkB,EAMlB,IANkB,CAAZ,CAAP;AAQA;AAED;AACD;AACA;AACA;AACA;;;AAzC0C","sourcesContent":["import UPNG from 'upng-js';\n\nimport {IImageData} from './types';\n\n/**\n * Icon constructor.\n */\nexport abstract class Icon extends Object {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Decode PNG data to RGBA image.\n\t *\n\t * @param data PNG data.\n\t * @returns Image data.\n\t */\n\tprotected _decodePngToRgba(data: Readonly<Buffer>) {\n\t\tconst image = UPNG.decode(data as Buffer);\n\t\treturn {\n\t\t\twidth: image.width,\n\t\t\theight: image.height,\n\t\t\tdata: new Uint8Array(UPNG.toRGBA8(image)[0])\n\t\t} as IImageData;\n\t}\n\n\t/**\n\t * Encode RGBA image to PNG data.\n\t *\n\t * @param imageData Image data.\n\t * @returns PNG data.\n\t */\n\tprotected _encodeRgbaToPng(imageData: Readonly<IImageData>) {\n\t\treturn Buffer.from((UPNG as any).encode(\n\t\t\t[imageData.data.buffer],\n\t\t\timageData.width,\n\t\t\timageData.height,\n\t\t\t0,\n\t\t\t[],\n\t\t\ttrue\n\t\t) as ArrayBuffer);\n\t}\n\n\t/**\n\t * Encode icon.\n\t *\n\t * @returns Encoded icon.\n\t */\n\tpublic abstract encode(): Buffer;\n}\n"],"file":"icon.js","sourceRoot":"../src"}